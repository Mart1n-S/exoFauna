<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="../style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>Panier</title>
</head>

<body>
    <header class="header">
        <nav class="headerNavigation">
            <div class="headerNavigationLogo">
                <img src="../assets/images/logoExoFauna.svg" alt="logo ExoFona" />
                <div class="headerNavigationLogoText">ExoFona</div>
            </div>
            <div class="headerNavigationLinks">
                <span class="material-symbols-outlined">
                    <a href="" class="headerNavigationLinksText">Search</a>
                </span>
                <span class="material-symbols-outlined">
                    <a href="" class="headerNavigationLinksText">account_circle</a>
                </span>
                <span class="material-symbols-outlined">
                    <a href="" class="headerNavigationLinksText">shopping_cart</a>
                </span>
            </div>
        </nav>
    </header>

    <h1>Votre Panier :</h1>

    <!-- Produits -->
    <div class="Panier" id="Panier1">
        <div class="PanierContainer">
            <div class="PanierContainerImg">
                <img src="../assets/images/Amphibiens/Terrestre/IMG_5168.JPG" alt="Description de l'image" class="img_panier">
            </div>
            <div class="PanierContainerDescription">
                <h2>Tahm Kench</h2>
                <div class="achat">
                    <div class="achatPrix" data-unit-price="70" data-quantity="1">70€</div>
                    <label class="achatPrixQuantity_name" for="quantity1" style="margin-right: 10px;">Quantité:</label>
                    <button class="achatPrixQuantity-btn" onclick="updateQuantity('Panier1', 1)">+</button>
                    <span class="achatPrixQuantity-selector" id="quantity1">1</span>
                    <button class="achatPrixQuantity-btn" onclick="updateQuantity('Panier1', -1)">-</button>
                    <button class="delete-btn" onclick="deletePanier('Panier1')">Supprimer</button>
                </div>
                </div>
            </div>
        </div>
    </div>

    <div class="Panier" id="Panier2">
        <div class="PanierContainer">
            <div class="PanierContainerImg">
                <img src="../assets/images/Amphibiens/Terrestre/IMG_5168.JPG" alt="Description de l'image" class="img_panier">
            </div>
            <div class="PanierContainerDescription">
                <h2>Tahm Kench</h2>
                <div class="achat">
                    <div class="achatPrix" data-unit-price="90" data-quantity="1">90€</div>
                    <label class="achatPrixQuantity_name" for="quantity2" style="margin-right: 10px;">Quantité:</label>
                    <button class="achatPrixQuantity-btn" onclick="updateQuantity('Panier2', 1)">+</button>
                    <span class="achatPrixQuantity-selector" id="quantity2">1</span>
                    <button class="achatPrixQuantity-btn" onclick="updateQuantity('Panier2', -1)">-</button>
                    <button class="delete-btn" onclick="deletePanier('Panier2')">Supprimer</button>
                </div>
                </div>
            </div>
        </div>
    </div>

    <div class="Panier" id="Panier3">
        <div class="PanierContainer">
            <div class="PanierContainerImg">
                <img src="../assets/images/Amphibiens/Terrestre/IMG_5168.JPG" alt="Description de l'image" class="img_panier">
            </div>
            <div class="PanierContainerDescription">
                <h2>Tahm Kench</h2>
                <div class="achat">
                    <div class="achatPrix" data-unit-price="70" data-quantity="1">70€</div>
                    <label class="achatPrixQuantity_name" for="quantity3" style="margin-right: 10px;">Quantité:</label>
                    <button class="achatPrixQuantity-btn" onclick="updateQuantity('Panier3', 1)">+</button>
                    <span class="achatPrixQuantity-selector" id="quantity3">1</span>
                    <button class="achatPrixQuantity-btn" onclick="updateQuantity('Panier3', -1)">-</button>
                    <button class="delete-btn" onclick="deletePanier('Panier3')">Supprimer</button>
                </div>
                </div>
            </div>
        </div>
    </div>

    <div class="Panier" id="Panier4">
        <div class="PanierContainer">
            <div class="PanierContainerImg">
                <img src="../assets/images/Amphibiens/Terrestre/IMG_5168.JPG" alt="Description de l'image" class="img_panier">
            </div>
            <div class="PanierContainerDescription">
                <h2>Tahm Kench</h2>
                <div class="achat">
                    <div class="achatPrix" data-unit-price="70" data-quantity="1">70€</div>
                    <label class="achatPrixQuantity_name" for="quantity4" style="margin-right: 10px;">Quantité:</label>
                    <button class="achatPrixQuantity-btn" onclick="updateQuantity('Panier4', 1)">+</button>
                    <span class="achatPrixQuantity-selector" id="quantity4">1</span>
                    <button class="achatPrixQuantity-btn" onclick="updateQuantity('Panier4', -1)">-</button>
                    <button class="delete-btn" onclick="deletePanier('Panier4')">Supprimer</button>
                </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ajoutez d'autres produits de manière similaire -->

    <!-- Prix total de tous les produits -->
    <div class="total-price">
        <h2>Prix total de votre panier :</h2>
        <div id="grandTotalPrice" class="totalPrice"></div>
        <a href="../form/delivery.html" class="order-btn">Commander</a>
    </div>
    <footer>
        <div class="footer-content">
          <div class="footer-left">
            <p>&copy; 2024 ExoFauna. Tous droits réservés.</p>
          </div>
          <div class="footer-right">
            <div class="social-icons">
            <i class='bx bxl-facebook-square'></i>              
            <i class='bx bxl-twitter'></i>                
            <i class='bx bxl-instagram'></i> 
            </div>
          </div>
        </div>
      </footer>
    <!-- Votre code JavaScript -->
    <script>
        // Fonction pour mettre à jour la quantité et le prix total
        function updateQuantity(PanierId, value) {
            var Panier = document.getElementById(PanierId);
            var quantityElement = Panier.querySelector('.achatPrixQuantity-selector');
            var totalPriceElement = Panier.querySelector('.achatPrix');
            var unitPrice = parseInt(totalPriceElement.getAttribute('data-unit-price'));
            var currentQuantity = parseInt(quantityElement.innerHTML);
            var newQuantity = currentQuantity + value;
    
            // Vérifier que la quantité est au moins 1
            if (newQuantity >= 1) {
                quantityElement.innerHTML = newQuantity;
                var newTotalPrice = unitPrice * newQuantity;
                totalPriceElement.innerHTML = newTotalPrice + '€';
    
                // Mettre à jour le prix total de tous les produits
                updateGrandTotalPrice();
            }
        }
    
        // Fonction pour mettre à jour le prix total de tous les produits
        function updateGrandTotalPrice() {
            var totalPriceElements = document.querySelectorAll('.achatPrix');
            var grandTotalPrice = 0;
    
            totalPriceElements.forEach(function (element) {
                grandTotalPrice += parseInt(element.innerHTML);
            });
    
            document.getElementById('grandTotalPrice').innerHTML = grandTotalPrice + '€';
        }
    
        // Fonction pour passer la commande
        function placeOrder() {
            var totalPrice = document.getElementById('grandTotalPrice').innerText;
            alert("Commande passée avec succès! Montant total : " + totalPrice);
        }
    
        // Appeler la fonction de mise à jour initiale lors du chargement de la page
        window.onload = function () {
            updateGrandTotalPrice();
        };
    
        function deletePanier(PanierId) {
            var Panier = document.getElementById(PanierId);
            Panier.remove();
    
            // Mettre à jour le prix total de tous les produits après la suppression
            updateGrandTotalPrice();
        }
    </script>
</body>

</html>
